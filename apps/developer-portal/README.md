<!-- Written by Daniel "Ludo" DeAnda (dcd180001) for CS4485.0W1 (Nebula Platform CS Project) starting March 21, 2023 -->

# Developer Portal

## Structure

- This folder acts exactly like the root directory of any NextJS app. The only difference is that `developer-portal` leverages the ESLint, TypeScript, and Tailwind configurations from the `packages` directory, as well as the shared `components` library.
- The `public/` directory houses static content for this app, such as the favicon and any image files.
- The `src/pages/` directory contains all of the pages of this app. Each file exports a page that NextJS renders and routes users to based on the file name. For example, `pages/careers/apply.tsx` would be accessible via `http(s)://[hosturl]/careers/apply`.
  - There are several exceptions to this rule. First, `_app.tsx` and `_document.tsx` are not pages, but configuration files that tell NextJS how to prepare pages. In other words, they provide meta-information. Also, any file named with brackets (e.g., `[id].tsx`) corresponds to a [dynamic](https://nextjs.org/docs/routing/dynamic-routes) (AKA "catch-all") route. Finally, the file(s) inside `pages/api` redirect NextJS to tRPC for the purpose of handling API routes.
- The `src/server/` directory contains the code responsible for handling all of the API routes using tRPC. Each file in `src/server/routers/` contains one of these routes and is referenced by `src/server/routers/_app.ts`, which is where tRPC picks up control of API routes from NextJS. `src/server/trpc.ts` is responsible for exporting constructors used by API route files and is where additional procredure helpers can be written.
- `src/styles/globals.css` is responsible for enabling Tailwind CSS throughout the app.
- `src/utils/trpc.ts` is where the custom tRPC React hooks are defined. These hooks are used in the NextJS pages to access the API routes in a type-safe manner.

## Package Manager
- IMPORTANT: You MUST use `pnpm` as your package manager for this repository.
- If you have `npm`, you can get it with `npm install -g pnpm`. If you do not have `npm`, look up installation instructions for your operating system.

## Execution

- Before doing anything else, you must download the dependencies for this project by running `pnpm install` in a terminal pointed either at this directory or at the root directory for the entire repository.

- To work with this app, open a terminal pointed at this directory and run `pnpm {dev|lint|build}`.
- The `dev` operation spins up a development server on your computer that automatically adjusts to code changes so no restart is necessary. You can access the web pages by going to http://localhost:3001/.
- The `lint` operation checks whether the codebase adheres to our style standards and reports any problems as console output. You should run this as a last step before any PR.
- The `build` operation creates an optimized, production-ready bundle. You should run  this as a last step before any PR to make sure that there are no traspilation or compiler-time errors.

## Packages

- ESLint and Prettier are supported, and have been configured to match Nebula's opinionated style guide.
- Tailwind CSS has been configured and is the preferred method for implementing any and all styling.
- `react-material-symbols` are also available.
- Communication between front-end and local back-end is facilitated by tRPC.
- Communication with external back-end is facilitated by Express.
- Input validation is facilitated by Zod.

## Other Files (You Don't Need to Touch These)
- `.eslintrc.js` directs ESLint to use the configuration from the `eslint-config-custom` package for this app. This is needed so you can `pnpm lint` from this directory.
- `.prettierrc.json` configures Prettier to match Nebula's opinionated style guide for this app.
- `next-env.d.ts` is auto-generated by NextJS and should not be messed with. You can learn more [here](https://nextjs.org/docs/basic-features/typescript).
- `next.config.js` is a helper file that tells your IDE to flag potential problems in your React code and that ensures the shared `components` library is available in this app.
- `package.json` is the file that `pnpm` uses to figure out what dependencies this project has and how to run `pnpm {dev|lint|build}`.
- `postcss.config.js` and `tailwind.config.js` direct Tailwind CSS to use the configuration from the `tailwind-config` package for this app.
- `tsconfig.json` directs tsc (the TypeScript transpiler) to use the configuration from the `tsconfig` package for this app. This is needed so you can `pnpm {dev|lint|build}` from this directory.